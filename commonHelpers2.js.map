{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst email = document.querySelector(\"input[type='email']\");\nconst textarea = document.querySelector(\"textarea[name='message']\");\n\nconst localStorageKey = 'feedback-form-state';\nlet userData;\ntry {\n  const filledData = JSON.parse(localStorage.getItem(localStorageKey));\n  if (filledData !== null) {\n    for (const data in filledData) {\n      form.elements[data].value = filledData[data];\n    }\n  }\n} catch (error) {\n  console.log(`Error parsing JSON : ${error}`);\n}\n\nform.addEventListener('input', () => {\n  const userData = {\n    email: email.value.trim(),\n    message: textarea.value.trim(),\n  };\n  localStorage.setItem(localStorageKey, JSON.stringify(userData));\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const filledData = JSON.parse(localStorage.getItem(localStorageKey));\n  if (filledData.email !== '' && filledData.message !== '') {\n    console.log(JSON.parse(localStorage.getItem(localStorageKey)));\n    localStorage.removeItem(localStorageKey);\n    form.reset();\n    alert(`Thanks for your feedback`);\n  } else {\n    alert(`Please fill all form's fields`);\n  }\n});\n"],"names":["form","email","textarea","localStorageKey","filledData","data","error","userData","event"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,qBAAqB,EACpDC,EAAW,SAAS,cAAc,0BAA0B,EAE5DC,EAAkB,sBAExB,GAAI,CACF,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQD,CAAe,CAAC,EACnE,GAAIC,IAAe,KACjB,UAAWC,KAAQD,EACjBJ,EAAK,SAASK,CAAI,EAAE,MAAQD,EAAWC,CAAI,CAGjD,OAASC,EAAO,CACd,QAAQ,IAAI,wBAAwBA,CAAK,EAAE,CAC7C,CAEAN,EAAK,iBAAiB,QAAS,IAAM,CACnC,MAAMO,EAAW,CACf,MAAON,EAAM,MAAM,KAAM,EACzB,QAASC,EAAS,MAAM,KAAM,CAClC,EACE,aAAa,QAAQC,EAAiB,KAAK,UAAUI,CAAQ,CAAC,CAChE,CAAC,EAEDP,EAAK,iBAAiB,SAAUQ,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMJ,EAAa,KAAK,MAAM,aAAa,QAAQD,CAAe,CAAC,EAC/DC,EAAW,QAAU,IAAMA,EAAW,UAAY,IACpD,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQD,CAAe,CAAC,CAAC,EAC7D,aAAa,WAAWA,CAAe,EACvCH,EAAK,MAAK,EACV,MAAM,0BAA0B,GAEhC,MAAM,+BAA+B,CAEzC,CAAC"}